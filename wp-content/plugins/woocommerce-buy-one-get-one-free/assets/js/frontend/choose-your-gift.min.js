!function(c){var r;"undefined"!=typeof wc_bogof_choose_your_gift_params&&(r={init:function(){this.car_form_url="",c(document.body).on("click",'a.button-choose-your-gift[href="#wc-choose-your-gift"]',this.scroll_to_choose_your_gift).on("added_to_cart",this.on_added_to_cart).on("removed_from_cart",this.refresh_bogof_fragment).on("updated_wc_div",this.refresh_bogof_fragment).on("updated_wc_bogof_div",this.on_updated_wc_bogof_div),this.on_updated_wc_bogof_div()},is_blocked:function(){return c("#wc-choose-your-gift").is(".processing")||c("#wc-choose-your-gift").parents(".processing").length},block:function(){r.is_blocked()||c("#wc-choose-your-gift").addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){c("#wc-choose-your-gift").removeClass("processing").unblock()},on_updated_wc_bogof_div:function(){var o=c("#wc-choose-your-gift").data("parameters");c(".choose-your-gift-notice").remove(),c(".button.button-choose-your-gift").closest(".woocommerce-error, .woocommerce-message, .woocommerce-info").addClass("choose-your-gift-notice"),c("#wc-choose-your-gift[data-parameters] .ajax_add_to_cart").data("wc_bogof_data",o)},replace_content:function(o){try{r.block();var t=c.parseHTML(o),e=c("#wc-choose-your-gift",t);c("#wc-choose-your-gift").replaceWith(e),c(document.body).trigger("updated_wc_bogof_div"),r.unblock()}catch(o){window.console.log(o)}},is_cart:function(){var o=c("#wc-choose-your-gift").data("parameters");return void 0!==o.is_cart&&"yes"===o.is_cart&&0<c(".woocommerce-cart-form").length&&0<c("#wc-choose-your-gift").length},scroll_to_choose_your_gift:function(o){c("#wc-choose-your-gift").length<1||(o.preventDefault(),c("html, body").animate({scrollTop:c("#wc-choose-your-gift").offset().top-100},1e3))},on_added_to_cart:function(o,t){t&&void 0!==t.wc_choose_your_gift_data&&"yes"===t.wc_choose_your_gift_data.is_choose_your_gift?r.update_fragments(t):r.is_cart()||r.refresh_bogof_fragment()},refresh_bogof_fragment:function(){var o=c("#wc-choose-your-gift").data("parameters");r.block(),c.post(wc_bogof_choose_your_gift_params.wc_ajax_url.toString(),o,function(o){r.update_fragments(o)})},update_fragments:function(o){o&&void 0!==o.wc_choose_your_gift_data&&(void 0!==(o=o.wc_choose_your_gift_data).cart_redirect&&"yes"===o.cart_redirect?window.location=wc_bogof_choose_your_gift_params.cart_url:(void 0!==o.notice&&r.show_notice(o.notice),void 0!==o.content&&r.replace_content("<div>"+o.content+"</div>"),r.unblock()))},show_notice:function(o){0<($target=c(".choose-your-gift-notice-wrapper:first")).length&&($target.empty(),$target.prepend(o),this.is_cart()||c.scroll_to_notices($target))}}).init()}(jQuery);